<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultarag.net.nz/thymeleaf/layout"
	layout:decorate="layouts/second_layout"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<th:block layout:fragment="content">
	<link th:href="@{/css/editinfoPage.css}" rel="stylesheet">
	<script th:inline="javascript" type="text/javascript"
		th:src="@{/js/editinfo.js}"></script>
	<script th:inline="javascript">
		$(document).ready(function() {
			var errorMessage = [[${ Message }]];
			console.log(errorMessage);
			if (errorMessage != null) {
				alert(errorMessage);
			}
		});</script>

	<div class="col-md-10 ps-5 pt-5 mb-5" id="main-con">
		<br> <br> <br> <br>
		<div id="content_title" class="fs-2">회원수정</div>
		<hr />
		<div id="con-text" style="white-space: pre-line; font-size: 120%;">수정하실 회원정보를 입력해주세요. 
		</div>
		<div class="container d-flex justify-content-center mt-5">
			<form th:action="@{/mypage/editpro}" method="post" th:object="${memberDto}">
				<div id="form-size" style="min-width: 450px;">					
						<div id="form-group">
							<label th:for="email" class="mb-2">이메일 [이메일은 변경할 수 없습니다.]</label>
							<br> <input type="email" th:field="*{email}" class="form-control mb-4" id="email" readonly="readonly">
						</div>
						<div id="form-group">
						<label th:for="name" class="mb-2">이름</label> <br> 
						<input type="text" th:field="*{name}" name="name" class="form-control mb-4" th:errorclass="fieldError" id="name">
						<p th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="fieldError"></p>
						</div>
					
				</div>
				<div id="form-group">
					<label th:for="phone" class="mb-2">전화번호</label> <br> 
					<input type="text" th:field="*{phone}" class="form-control mb-4" th:errorclass="fieldError" id="phone">
					<p th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}" class="fieldError"></p>
				</div>
				<div class="d-flex justify-content-between">
				<button type="button" class="btn btn-secondary" th:onclick="window.history.back()">취소</button><button type="submit" class="btn btn-dark" id="pass_button">프로필 수정</button><div style="width: 60px"></div>
				</div>
				<input th:field="*{password}" hidden="hidden"> 
				<input th:field="*{secession}" hidden="hidden">
			</form>
		</div>
	</div>
	</div>
	</div>
	</div>
	</main>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
		crossorigin="anonymous"></script>
</th:block>
</html>